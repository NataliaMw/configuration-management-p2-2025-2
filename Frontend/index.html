<!-- Develop a single-page web application using HTML, CSS, and JavaScript.
It should allow users to:
Display a list of tasks (fetched from the backend API)
Add a new task via a simple input field
Mark a task as completed
All code must reside in a single file: index.html. -->

<!DOCTYPE html>
<html>
<head>
	<title>Task Manager</title>
	<style>
		body { font-family: Arial; padding: 50px; max-width: 400px; margin: 0 auto; }
		form { display: flex; flex-direction: column; gap: 10px; }
		input, button { padding: 10px; font-size: 14px; }
		button { background: #667eea; color: white; border: none; cursor: pointer; }
	</style>
</head>
<body>
	<h1>Add New Task</h1>
	<form id="taskForm">
		<input type="text" id="title" placeholder="Task title" required>
		<input type="text" id="description" placeholder="Description">
		<button type="submit">Add Task</button>
	</form>
	<div id="message"></div>

	<script>
		document.getElementById('taskForm').addEventListener('submit', async (e) => {
			e.preventDefault();
			const title = document.getElementById('title').value;
			const description = document.getElementById('description').value;
			
			try {
				const response = await fetch('http://localhost:8080/tasks', {
					method: 'POST',
					headers: { 'Content-Type': 'application/json' },
					body: JSON.stringify({ title, description })
				});
				
				if (!response.ok) {
					throw new Error('Failed to create task');
				}
				
				const task = await response.json();
				const msg = document.getElementById('message');
				msg.textContent = `✓ Task created: ${task.title}`;
				msg.className = 'show success';
				e.target.reset();
			} catch (error) {
				const msg = document.getElementById('message');
				msg.textContent = `✗ Error: ${error.message}`;
				msg.className = 'show error';
			}
		});
	</script>
</body>
</html>
